//*****************************************************************************
//*****************************************************************************
//*                                                                           *
//*  X86 - RESET                                                              *
//*                                                                           *
//*****************************************************************************
//*****************************************************************************
// Port : CF9
//
// bit3 - FULL_RST: full rest (reset SLP_S3#/SLP_S4#/SLP_S5# pin state)
//        1=reset SLP_S3#/SLP_S4#/SLP_S5# pin state
//        0=keep  SLP_S3#/SLP_S4#/SLP_S5# pin state
//
// bit2 - RST_CPU : reset CPU (sw or hw reset --> CPU)
//
// bit1 - SYS_RST : system reset

//  RST_CPU   SYS_RST
//     1        0       CPU_INIT# = L (16 PCI clock) --> software reset
//     1        1       PLT_RST# = L, SUS_STAT# = L  --> hardware reset
//*****************************************************************************
#include "x86io.h"

//===========================================================================
//  reset_full
//===========================================================================
void reset_full(void)
{
	outp(0xCF9, inp(0xCF9) | 0x0E);	// hardware reset + SLP pin state
}

//===========================================================================
//  reset_hard
//===========================================================================
void reset_hard(void)
{
	outp(0xCF9, inp(0xCF9) | 0x06);	// aka platform reset
}

//===========================================================================
//  reset_soft
//===========================================================================
void reset_soft(void)
{
	outp(0xCF9, inp(0xCF9) | 0x04);	// software reset, cpu reset
}

//===========================================================================
//  reset_soft92
//===========================================================================
void reset_soft92(void)
{
	outp(0x92, 0x01);	// software reset
}

//===========================================================================
//  reset_kbc
//===========================================================================
void reset_kbc(void)
{
	outp(0x64, 0xFE);	// software reset
}
